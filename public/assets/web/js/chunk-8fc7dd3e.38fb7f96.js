(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-8fc7dd3e"],{"29f3a":function(t,a,s){"use strict";s.r(a);s("b0c0");var n=function(){var t=this,a=t._self._c;return a("div",{staticClass:"main-content"},[a("div",{staticClass:"appBar"},[a("a",{on:{click:function(a){return t.$router.go(-1)}}},[a("i",{staticClass:"fa fa-chevron-left"})]),a("span",[t._v(t._s(t.$t("basic_info")))])]),a("div",{staticClass:"mainpage m-1 px-2",staticStyle:{"min-height":"90vh","padding-bottom":"15vh !important",position:"relative"}},[a("b-card",{staticClass:"px-2 pb-1 mt-4 bg-gray",staticStyle:{"margin-bottom":"1rem"},attrs:{"no-body":""},on:{click:function(a){return t.openModal("phone")}}},[a("div",{staticClass:"d-flex align-items-center"},[a("h6",{staticClass:"py-2 px-2 mb-0 mx-1 text-16 flex-grow-1"},[t._v(" "+t._s(t.$t("update_phone"))+" ")]),a("div",{staticClass:"text-primary"},[a("i",{staticClass:"fa fa-chevron-right"})])])]),a("b-card",{staticClass:"px-2 pb-1 bg-gray",staticStyle:{"margin-bottom":"1rem"},attrs:{"no-body":""},on:{click:function(a){return t.openModal("ic")}}},[a("div",{staticClass:"d-flex align-items-center"},[a("h6",{staticClass:"py-2 px-2 mb-0 mx-1 text-16 flex-grow-1"},[t._v(" "+t._s(t.$t("update_ic"))+" ")]),a("div",{staticClass:"text-primary"},[a("i",{staticClass:"fa fa-chevron-right"})])])]),a("b-modal",{staticClass:"text-black",staticStyle:{color:"#000 !important"},attrs:{id:"modal-info",size:"md",centered:"",title:t.$t(t.name),"hide-footer":!0}},[a("b-form",{staticClass:"d-flex flex-column",on:{submit:function(a){return a.preventDefault(),t.updateInfo.apply(null,arguments)}}},["update_phone"==t.name?a("b-row",[a("b-col",{staticClass:"mb-2",attrs:{cols:"4"}},[a("p",{staticClass:"mb-1 font-weight-bold text-14"},[t._v(" "+t._s(t.$t("country"))+" ")])]),a("b-col",{staticClass:"text-right mb-2",attrs:{cols:"8"}},[a("b-form-select",{staticClass:"mb-1",attrs:{options:t.countryOptions,id:"country"},model:{value:t.country,callback:function(a){t.country=a},expression:"country"}})],1),a("b-col",{staticClass:"mb-2",attrs:{cols:"4"}},[a("p",{staticClass:"mb-1 font-weight-bold text-14"},[t._v(" "+t._s(t.$t("mobile"))+" ")])]),a("b-col",{staticClass:"text-right mb-2",attrs:{cols:"8"}},[a("div",{staticClass:"input-group mb-1"},[a("div",{staticClass:"input-group-prepend"},[a("span",{staticClass:"input-group-text",attrs:{id:"basic-addon1"}},[t._v(" "+t._s(t.phone_code)+" ")])]),a("input",{directives:[{name:"model",rawName:"v-model",value:t.phone,expression:"phone"}],staticClass:"form-control",attrs:{type:"text",required:"",readonly:t.isLoading},domProps:{value:t.phone},on:{input:function(a){a.target.composing||(t.phone=a.target.value)}}})])])],1):t._e(),"update_ic"==t.name?a("b-row",[a("b-col",{staticClass:"mb-2",attrs:{cols:"4"}},[a("p",{staticClass:"mb-0 font-weight-bold text-14"},[t._v(" "+t._s(t.$t("identity_no"))+" ")])]),a("b-col",{staticClass:"text-right mb-2",attrs:{cols:"8"}},[a("input",{directives:[{name:"model",rawName:"v-model",value:t.ic,expression:"ic"}],staticClass:"form-control",attrs:{type:"text",required:"",readonly:t.isLoading},domProps:{value:t.ic},on:{input:function(a){a.target.composing||(t.ic=a.target.value)}}})])],1):t._e(),a("div",{staticClass:"flex-grow-1"}),a("div",{staticClass:"mt-4 float-right w-100"},[a("b-button",{staticClass:"btn-curved",attrs:{type:"submit",disabled:t.isLoading,block:""}},[a("span",{staticClass:"font-weight-bold text-white"},[t._v(" "+t._s(t.isLoading?t.$t("loading..."):t.$t("submit"))+" ")])])],1)],1)],1)],1),a("Dialog",{ref:"msg"})],1)},e=[],i=s("5530"),o=(s("14d9"),s("d3b7"),s("159b"),s("9565")),c=s("2f62"),r=s("06e0"),l=s("402a"),d={props:["item"],computed:Object(i["a"])({},Object(c["c"])(["lang"])),watch:{country:"updateCode",lang:function(t){console.log(t);var a=this;a.countryOptions=[];for(var s=0;s<a.countryList.length;s++){var n={};n["value"]=a.countryList[s].id,n["text"]="en"==t?a.countryList[s].name_en:a.countryList[s].name,a.countryOptions.push(n)}}},components:{Dialog:o["a"]},data:function(){return{isLoading:!0,email:"",userID:0,memberInfo:"",country:null,phone:null,phone_code:null,countryOptions:[],countryList:[],ic:null,name:""}},methods:{openModal:function(t){switch(t){case"phone":this.name="update_phone",this.$bvModal.show("modal-info");break;case"ic":this.name="update_ic",this.$bvModal.show("modal-info");break;default:break}},updateCode:function(t){var a=this;this.countryList.forEach((function(s){t==s.id&&(a.phone_code=s.country_code)}))},getCountryList:function(){this.username=null,this.email=null;var t=Object(r["i"])(),a=this;a.countryOptions=[],this.isLoading=!0,t.then((function(t){a.isLoading=!1,a.countryList=t.data.data;for(var s=0;s<t.data.data.length;s++){var n={};n["value"]=t.data.data[s].id,n["text"]="en"==a.$i18n.locale?t.data.data[s].name_en:t.data.data[s].name,a.countryOptions.push(n)}})).catch((function(t){a.$refs.msg.makeToast("warning",a.$t(Object(l["b"])(t)))}))},updateInfo:function(){var t=new FormData;t.append("auto_renew",this.memberInfo.auto_renew),t.append("country_id",this.country),t.append("contact_number",this.phone),t.append("ic",this.ic);var a=Object(r["L"])(t),s=this;this.isLoading=!0,a.then((function(t){0==t.data.code?(s.$refs.msg.makeToast("success",s.$t(t.data.message)),s.loadItems(),s.$bvModal.hide("modal-info")):s.$refs.msg.makeToast("danger",s.$t(t.data.message))})).catch((function(t){s.$refs.msg.makeToast("warning",s.$t(Object(l["b"])(t)))}))},loadItems:function(){var t=Object(r["p"])(),a=this;this.isLoading=!0,t.then((function(t){a.memberInfo=t.data.data,a.phone=t.data.data.contact_number,a.phone_code=t.data.data.country.phone_code,a.country=t.data.data.country.id,a.ic=t.data.data.ic,a.isLoading=!1})).catch((function(t){a.$refs.msg.makeToast("warning",a.$t(Object(l["b"])(t)))}))}},created:function(){try{this.memberInfo=this.item,this.phone=this.item.contact_number,this.phone_code=this.item.country.phone_code,this.country=this.item.country.id,this.ic=this.item.ic}catch(t){this.loadItems()}this.getCountryList(),"undefined"==this.phone&&(this.phone="")}},u=d,m=(s("92a6"),s("2877")),p=Object(m["a"])(u,n,e,!1,null,null,null);a["default"]=p.exports},"92a6":function(t,a,s){"use strict";s("bdc0")},9565:function(t,a,s){"use strict";var n=function(){var t=this,a=t._self._c;return a("div")},e=[],i={methods:{makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,a=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(a,{variant:t,solid:!0})}},watch:{testProp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",a=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(a,{variant:t,solid:!0})}}},o=i,c=s("2877"),r=Object(c["a"])(o,n,e,!1,null,null,null);a["a"]=r.exports},bdc0:function(t,a,s){}}]);
//# sourceMappingURL=chunk-8fc7dd3e.38fb7f96.js.map