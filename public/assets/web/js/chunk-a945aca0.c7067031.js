(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-a945aca0"],{9565:function(t,s,a){"use strict";var o=function(){var t=this,s=t._self._c;return s("div")},e=[],n={methods:{makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,s=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(s,{variant:t,solid:!0})}},watch:{testProp:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"success",s=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(s,{variant:t,solid:!0})}}},i=n,r=a("2877"),c=Object(r["a"])(i,o,e,!1,null,null,null);s["a"]=c.exports},ab12:function(t,s,a){"use strict";a.r(s);var o=function(){var t=this,s=t._self._c;return s("div",{staticClass:"main-content mb-5"},[s("div",{staticClass:"appBar mb-3"},[s("a",{on:{click:function(s){return t.$router.go(-1)}}},[s("i",{staticClass:"fa fa-chevron-left"})]),s("span",[t._v(t._s("pwd"==t.$route.query.type?t.$t("password_reset"):t.$t("reset_sec_password")))])]),"pwd"==t.$route.query.type?s("Pwd"):"sec_pwd"==t.$route.query.type?s("SecPwd"):t._e()],1)},e=[],n=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"m-3 mx-4"},[s("b-row",{attrs:{"align-h":"center"}},[s("b-col",{attrs:{md:"10"}},[s("b-form",{on:{submit:function(s){return s.preventDefault(),t.submitForm.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-form-label",attrs:{for:"old_password"}},[t._v(t._s(t.$t("old_password")))]),s("div",{staticClass:"col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.old_password,expression:"old_password"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.old_password},on:{input:function(s){s.target.composing||(t.old_password=s.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-form-label",attrs:{for:"new_password"}},[t._v(t._s(t.$t("new_password")))]),s("div",{staticClass:"col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-form-label",attrs:{for:"confirm_new_password"}},[t._v(t._s(t.$t("confirm_new_password")))]),s("div",{staticClass:"col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.password_confirmation},on:{input:function(s){s.target.composing||(t.password_confirmation=s.target.value)}}})])]),s("div",{staticClass:"float-right w-100",staticStyle:{"margin-top":"10vh"}},[s("b-button",{staticClass:"m-1 btn-curved",attrs:{type:"submit",disabled:t.isLoading,block:""}},[s("span",{staticClass:"text-white font-weight-bold"},[t._v(t._s(t.isLoading?t.$t("loading..."):t.$t("submit"))+" ")])])],1)])],1)],1)],1)])},i=[],r=(a("14d9"),a("06e0")),c=a("402a"),d={data:function(){return{old_password:"",password:"",password_confirmation:"",sending:!1,isLoading:!1}},methods:{submitForm:function(){var t=new FormData,s=this;t.append("old_password",this.old_password),t.append("password",this.password),t.append("password_confirmation",this.password_confirmation);var a=Object(r["d"])(t);s.isLoading=!0,a.then((function(t){0==t.data.code?(s.$root.makeToast("success",s.$t(t.data.message)),s.old_password="",s.password="",s.password_confirmation="",s.$router.push("/web/me/mePage")):s.$root.makeToast("danger",s.$t(t.data.message)),s.sending=!1,s.isLoading=!1})).catch((function(t){console.log(t),s.$root.makeToast("warning",s.$t(Object(c["b"])(t))),s.sending=!1,s.isLoading=!1}))}}},l=d,m=a("2877"),p=Object(m["a"])(l,n,i,!1,null,null,null),u=p.exports,g=function(){var t=this,s=t._self._c;return s("div",[s("div",{staticClass:"m-3 mx-4"},[s("b-row",{attrs:{"align-h":"center"}},[s("b-col",{attrs:{cols:"10"}},[s("b-form",{on:{submit:function(s){return s.preventDefault(),t.sendOTP.apply(null,arguments)}}},[s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-form-label",attrs:{for:"email"}},[t._v(t._s(t.$t("email")))]),s("div",{staticClass:"col-sm-12"},[s("b-input-group",[s("b-form-input",{attrs:{type:"text",readonly:""},model:{value:t.email,callback:function(s){t.email=s},expression:"email"}}),s("b-input-group-append",{staticStyle:{position:"relative"}},[s("b-button",{attrs:{variant:"primary",disabled:t.startCount||t.sending},on:{click:t.getOTP}},[t.sending?s("span",{staticClass:"text-white"},[t._v(t._s(t.$t("loading...")))]):s("span",[t._v(t._s(t.$t("getCode")))])]),t.startCount?s("div",{staticClass:"text-center py-2 overlay-text"},[t._v(" "+t._s(t.timecount)+" s ")]):t._e()],1)],1)],1)]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-form-label",attrs:{for:"vcode"}},[t._v(t._s(t.$t("vcode")))]),s("div",{staticClass:"col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.otp,expression:"otp"}],staticClass:"form-control",attrs:{type:"number",required:""},domProps:{value:t.otp},on:{input:function(s){s.target.composing||(t.otp=s.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-form-label",attrs:{for:"new_sec_password"}},[t._v(t._s(t.$t("new_sec_password")))]),s("div",{staticClass:"col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password,expression:"password"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.password},on:{input:function(s){s.target.composing||(t.password=s.target.value)}}})])]),s("div",{staticClass:"form-group row"},[s("label",{staticClass:"col-sm-12 col-form-label",attrs:{for:"confirm_sec_new_password"}},[t._v(t._s(t.$t("confirm_sec_new_password")))]),s("div",{staticClass:"col-sm-12"},[s("input",{directives:[{name:"model",rawName:"v-model",value:t.password_confirmation,expression:"password_confirmation"}],staticClass:"form-control",attrs:{type:"password",required:""},domProps:{value:t.password_confirmation},on:{input:function(s){s.target.composing||(t.password_confirmation=s.target.value)}}})])]),s("div",{staticClass:"form-group row justify-content-end"},[s("div",{staticClass:"col-sm-12"},[s("div",{staticClass:"float-right w-100",staticStyle:{"margin-top":"10vh"}},[s("b-button",{staticClass:"m-1 btn-curved",attrs:{type:"submit",disabled:t.isLoading,block:""}},[s("span",{staticClass:"text-white font-weight-bold"},[t._v(t._s(t.isLoading?t.$t("loading..."):t.$t("submit"))+" ")])])],1)])])])],1)],1)],1),s("Dialog",{ref:"msg"})],1)},f=[],w=a("5530"),v=a("9565"),_=a("2f62"),b={computed:Object(w["a"])({},Object(_["c"])(["lang"])),components:{Dialog:v["a"]},data:function(){return{email:"",otp:"",timecount:60,startCount:!1,sec_password:"",password:"",password_confirmation:"",sending:!1,isLoading:!1}},props:["success"],methods:{getInfo:function(){var t=Object(r["p"])(),s=this;this.isLoading=!0,t.then((function(t){s.isLoading=!1,s.email=t.data.data.email})).catch((function(t){s.isLoading=!1,s.$refs.msg.makeToast("warning",s.$t(Object(c["b"])(t)))}))},getOTP:function(){if(""==this.username)this.$refs.msg.makeToast("danger",this.$t("emailEmpty"));else{this.sending=!0,this.isLoading=!0;var t=new FormData,s=this;t.append("otp_type","email");var a=Object(r["D"])(t);a.then((function(t){console.log(t.data),0==t.data.code?(s.$refs.msg.makeToast("success",s.$t("otp_sent")),s.startCount=!0,s.myVar=setInterval((function(){s.timecount-=1,0==s.timecount&&(s.timecount=60,clearInterval(s.myVar),s.startCount=!1)}),1e3)):s.$refs.msg.makeToast("danger",s.$t(t.data.message)),s.sending=!1,s.isLoading=!1})).catch((function(t){s.$refs.msg.makeToast("warning",s.$t(Object(c["b"])(t))),s.sending=!1,s.isLoading=!1}))}},sendOTP:function(){var t=new FormData,s=this;t.append("otp",this.otp);var a=Object(r["e"])(t);s.isLoading=!0,a.then((function(t){console.log(t.data),0==t.data.code?(s.$refs.msg.makeToast("success",s.$t(t.data.message)),s.submitForm()):s.$refs.msg.makeToast("danger",s.$t(t.data.message)),s.sending=!1,s.isLoading=!1})).catch((function(t){s.$refs.msg.makeToast("warning",s.$t(Object(c["b"])(t))),s.sending=!1,s.isLoading=!1}))},submitForm:function(){var t=new FormData,s=this;t.append("password",this.password),t.append("password_confirmation",this.password_confirmation);var a=Object(r["k"])(t);s.isLoading=!0,a.then((function(t){0==t.data.code?(s.$root.makeToast("success",s.$t(t.data.message)),s.password="",s.password_confirmation="",s.$router.push("/web/me/mePage")):s.$root.makeToast("danger",s.$t(t.data.message)),s.sending=!1,s.isLoading=!1})).catch((function(t){s.$root.makeToast("warning",s.$t(Object(c["b"])(t))),s.sending=!1,s.isLoading=!1}))}},created:function(){this.getInfo()}},h=b,$=Object(m["a"])(h,g,f,!1,null,null,null),C=$.exports,y={components:{Pwd:u,SecPwd:C}},k=y,L=Object(m["a"])(k,o,e,!1,null,null,null);s["default"]=L.exports}}]);
//# sourceMappingURL=chunk-a945aca0.c7067031.js.map