(window["webpackJsonp"]=window["webpackJsonp"]||[]).push([["chunk-49e0969c"],{"179e":function(t,e,a){},"5fe1":function(t,e,a){},"906b":function(t,e,a){"use strict";var s=a("5fe1"),n=a.n(s);n.a},a27c:function(t,e,a){"use strict";a.r(e);var s=function(){var t=this,e=t.$createElement,a=t._self._c||e;return a("div",{staticClass:"main-content"},[a("breadcumb",{attrs:{page:t.$t("transaction_record"),folder:t.$t("transaction")}}),a("b-card",{attrs:{title:t.$t("transaction_record")+" ( "+t.$t(t.searchParam["wallet"])+" )"}},[a("div",{staticClass:"d-flex justify-content-end"},[a("b-button",{staticClass:"mr-2",attrs:{variant:"primary"},on:{click:function(e){return t.$bvModal.show("modal-search")}}},[t._v(t._s(t.$t("search")))]),t.canClear?a("b-button",{attrs:{variant:"danger"},on:{click:t.onCancel}},[t._v(t._s(t.$t("clear")))]):t._e()],1),a("vue-good-table",{attrs:{id:"table",mode:"remote",totalRows:t.totalRecords,isLoading:t.isLoading,columns:t.columns,"search-options":{enabled:!1,placeholder:"Search this table"},"pagination-options":{enabled:!1,perPageDropdownEnabled:!1,perPageDropdown:[10],dropdownAllowAll:!1,rowsPerPageLabel:t.$t("rowPerPage"),nextLabel:t.$t("next"),prevLabel:t.$t("previous"),mode:"pages",pageLabel:t.$t("page"),setCurrentPage:t.pageNumber},styleClass:"tableOne vgt-table table-striped",selectOptions:{enabled:!1,selectionInfoClass:"table-alert__box"},rows:t.rows},on:{"on-page-change":t.onPageChange,"on-search":t.onSearch},scopedSlots:t._u([{key:"table-row",fn:function(e){return["contact_number"==e.column.field?a("span",[e.row.contact_number?a("span",[t._v(" "+t._s(e.row.country.country_code+e.row.contact_number)+" ")]):t._e()]):"found"==e.column.field?a("span",[e.row.out_type>0?a("span",{staticStyle:{color:"red"}},[t._v(" -"+t._s(e.row.found)+" ")]):a("span",{staticStyle:{color:"green"}},[t._v(" +"+t._s(e.row.found)+" ")])]):"created_at"==e.column.field?a("span",[t._v(" "+t._s(t.processDate(e.row.created_at))+" ")]):"wallet"==e.column.field?a("span",[t._v(" "+t._s(t.$t(t.searchParam["wallet"]))+" ")]):"found_type"==e.column.field?a("span",[t._v(" "+t._s(t.checkFType(e.row.found_type))+" ")]):"action"==e.column.field?a("span",[a("button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:t.$t("editUser"),expression:"$t('editUser')",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-default btn-edit",attrs:{type:"button"},on:{click:function(a){return t.editUser(e.row)}}},[a("i",{staticClass:"fa fa-pencil"})]),a("button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:t.$t("updatePwd"),expression:"$t('updatePwd')",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-default btn-push mx-1 px-2",attrs:{type:"button"},on:{click:function(a){return t.showModal(e.row)}}},[a("i",{staticClass:"fa fa-shield"})]),a("button",{directives:[{name:"b-popover",rawName:"v-b-popover.hover.top",value:t.$t("walletRecord"),expression:"$t('walletRecord')",modifiers:{hover:!0,top:!0}}],staticClass:"btn btn-default btn-wallet mr-1",attrs:{type:"button"},on:{click:function(a){return t.showWallet(e.row.username)}}},[a("i",{staticClass:"fa fa-money"})])]):t._e()]}}])}),a("div",{staticClass:"align-items-center mobile-adjust"},[t.totalRecords>0?a("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-start mt-3"},[a("p",{staticClass:"text-light text-16 mr-2"},[t._v(t._s(t.$t("total")))]),a("p",{staticClass:"text-muted text-16",staticStyle:{"font-weight":"bold"}},[t._v(" "+t._s(t.totalRecords)+" ")])]):a("div"),a("div",{staticClass:"d-flex flex-wrap align-items-center justify-content-end"},[a("b-pagination",{staticClass:"pagi-margin pt-3",attrs:{"total-rows":t.totalRecords,"per-page":10,"first-text":t.$t("first"),"prev-text":t.$t("prev"),"next-text":t.$t("next"),"last-text":t.$t("last")},on:{input:function(e){return t.loadItems()}},model:{value:t.pageNumber,callback:function(e){t.pageNumber=e},expression:"pageNumber"}}),a("b-input-group",{staticClass:"ml-3",staticStyle:{width:"160px"}},[a("b-form-input",{attrs:{placeholder:t.$t("PageNo")},model:{value:t.pageNumber,callback:function(e){t.pageNumber=e},expression:"pageNumber"}}),a("b-input-group-append",[a("b-button",{attrs:{variant:"primary"},on:{keypress:function(e){return t.loadItems()},click:function(e){return t.loadItems()}}},[t._v(t._s(t.$t("go")))])],1)],1)],1)])],1),a("b-modal",{attrs:{id:"modal-search",size:"md",centered:"",title:t.$t("search"),"hide-footer":!0}},[a("b-row",{attrs:{"align-h":"center"}},[a("b-col",{attrs:{cols:"10"}},[a("b-form",{on:{submit:function(e){return e.preventDefault(),t.onSearch(e)}}},[a("b-col",{staticClass:"mt-3 mt-md-0",attrs:{md:"1"}}),a("b-button",{staticClass:"mb-2 d-block text-right ml-auto",attrs:{variant:"primary"},on:{click:t.exportFile}},[t._v(" "+t._s(t.$t("export"))+" ")]),t._l(t.searchParam,(function(e,s){return a("b-form-group",{key:e.id,staticClass:"mb-3",attrs:{"label-for":"item",label:t.$t(s)}},["start_date"==s||"end_date"==s||"from"==s||"to"==s?a("b-form-input",{attrs:{type:"date"},model:{value:t.searchParam[s],callback:function(e){t.$set(t.searchParam,s,e)},expression:"searchParam[index]"}}):"wallet"==s?a("div",[a("b-form-select",{attrs:{options:t.walletOptions},model:{value:t.searchParam[s],callback:function(e){t.$set(t.searchParam,s,e)},expression:"searchParam[index]"}})],1):"found_type"==s?a("div",[a("b-form-checkbox-group",{attrs:{id:"checkbox-group-2",options:t.selectOptions,"value-field":"item","text-field":"name"},model:{value:t.searchParam[s],callback:function(e){t.$set(t.searchParam,s,e)},expression:"searchParam[index]"}})],1):a("b-form-input",{attrs:{type:"text"},model:{value:t.searchParam[s],callback:function(e){t.$set(t.searchParam,s,e)},expression:"searchParam[index]"}})],1)})),a("div",{staticClass:"form-group"},[a("div",{staticClass:"row"},[a("div",{staticClass:"col-sm-12"},[a("b-button",{staticClass:"mt-3 w-100",attrs:{variant:"primary",type:"submit"}},[t._v(t._s(t.$t("submit")))])],1)])])],2)],1)],1)],1),a("Dialog",{ref:"msg"})],1)},n=[],o=(a("b0c0"),a("d3b7"),a("25f0"),a("5530")),r=a("06e0"),l=a("9565"),i=a("402a"),c=a("2f62"),u={computed:Object(o["a"])({},Object(c["c"])(["lang"]),{walletOptions:function(){return[{value:"point1",text:this.$t("point1")},{value:"point2",text:this.$t("point2")},{value:"point3",text:this.$t("point3")}]},columns:function(){return[{label:this.$t("id"),text:"id",field:"id",thClass:"gull-th-class",value:"id",sortable:!1},{label:this.$t("user_id"),text:"user_id",field:"user_id",thClass:"gull-th-class",value:"user_id",sortable:!1},{label:this.$t("username"),text:"username",field:"user.username",thClass:"gull-th-class",value:"username",sortable:!1},{label:this.$t("full_name"),text:"full_name",field:"user.fullname",thClass:"gull-th-class",value:"full_name",sortable:!1},{label:this.$t("previousBalance"),text:"previous",field:"previous",thClass:"gull-th-class",value:"previous",sortable:!1},{label:this.$t("founds"),text:"found",field:"found",thClass:"gull-th-class",value:"found",sortable:!1},{label:this.$t("currentBalance"),text:"current",field:"current",thClass:"gull-th-class",value:"current",sortable:!1},{label:this.$t("detail"),text:"detail",field:"zh"==this.$i18n.locale?"detail":"detailen",thClass:"gull-th-class",value:"detail",sortable:!1},{label:this.$t("found_type"),text:"found_type",field:"found_type",thClass:"gull-th-class",value:"found_type",sortable:!1},{label:this.$t("created_at"),text:"created_at",field:"created_at",thClass:"gull-th-class",value:"created_at",tdClass:"dateWidth",sortable:!1}]}}),components:{Dialog:l["a"]},data:function(){return{adminToken:"",username:"",form:{user_id:"",setting:[]},setting:[],password:"",password2:"",contact_number:"",country_id:"",user_group_id:"",wr:!1,rb:!1,wt:!1,auto_renew:!1,selectWalletType:"point1",from:"",to:"",canClearWallet:!1,searchUsernameWallet:"",uid:"",user_setting:[],totalBalance:0,totalWalletRecords:0,searchUsername:"",searchPhone:"",searchUID:"",isLoading:!1,canClear:!1,totalRecords:0,pageNumber:1,walletPageNumber:1,rows:[],walletRows:[],tabIndex:0,canEdit:!1,canShow:!1,canSettings:!1,packageType:"1",productType:"",country:null,countryOptions:[],package:[],foundList:[],product:[],selectOptions:[],productOptions:[],countryList:[],fields:{text:"text",value:"value"},user_rank_id:"",set_rank:"",total_cap:"",special:"0",specialOptions:[{value:"0",text:this.$t("normal")},{value:"1",text:this.$t("special")}],user_rank_idOptions:[{value:"0",text:this.$t("normal")},{value:"1",text:this.$t("bronze")},{value:"2",text:this.$t("silver")},{value:"3",text:this.$t("gold")},{value:"4",text:this.$t("diamond")},{value:"5",text:this.$t("king")}],searchParam:{}}},methods:{exportFile:function(){var t="/admin-api/export/exportWallet?token="+this.adminToken;for(var e in this.searchParam){var a="";Object.hasOwnProperty.call(this.searchParam,e)&&(a="&"+e+"="+this.searchParam[e]),t+=a}window.location.href=t},searchSetup:function(){var t={wallet:"point1"},e=this.columns;for(var a in e)"created_at"!=e[a].text&&"previous"!=e[a].text&&"current"!=e[a].text&&"detail"!=e[a].text&&"found"!=e[a].text&&("found_type"==e[a].text?t[e[a].text]=[]:t[e[a].text]="");t["from"]="",t["to"]="",this.searchParam=t},processDate:function(t){var e=new Date(t),a=e.getMinutes(),s=e.getHours();1==a.toString().length&&(a="0"+a),1==s.toString().length&&(s="0"+s);var n=e.getFullYear()+"-"+(e.getMonth()+1)+"-"+e.getDate()+" "+s+":"+a;return n},checkFType:function(t){for(var e=0;e<this.foundList.length;e++)if(this.foundList[e]["found_type"]==t)return"en"==this.$i18n.locale?this.foundList[e]["comments_en"]:this.foundList[e]["comments_cn"]},makeToast:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:null,e=arguments.length>1?arguments[1]:void 0;this.$bvToast.toast(e,{variant:t,solid:!0})},onPageChange:function(t){this.pageNumber=t.currentPage,this.loadItems();var e=this.$el.querySelector("#table"),a=e.offsetTop;window.scrollTo(0,a)},onSearch:function(){for(var t in this.pageNumber=1,this.loadItems(),this.$bvModal.hide("modal-search"),this.searchParam)this.searchParam[t].length>0&&(this.canClear=!0)},onCancel:function(){this.searchSetup(),this.canClear=!1,this.loadItems()},clearData:function(){if(void 0!=this.$refs.dropdownObj)for(var t=0;t<this.$refs.dropdownObj.length;t++)this.$refs.dropdownObj[t].ej2Instances.value=null;this.canEdit=!1,this.canShow=!1,this.canSettings=!1;var e=this;e.selectedId=null},showModal:function(t){this.$bvModal.show("modal-1");var e=this,a=t;e.username=a.username},checkRank:function(t){return 1==t.user_group_id?this.$t("nonMember"):"en"==this.$i18n.locale?t.rank.rank_name_en:t.rank.rank_name},checkLowestRank:function(t){for(var e=0;e<this.user_rank_idOptions.length;e++)if(this.user_rank_idOptions[e].value==t)return this.user_rank_idOptions[e].text},getCountryList:function(){var t=Object(r["o"])(),e=this;e.countryOptions=[],this.isLoading=!0,t.then((function(t){e.countryList=t.data.data;for(var a=0;a<t.data.data.length;a++){var s={};s["value"]=t.data.data[a].id,s["text"]="en"==e.$i18n.locale?t.data.data[a].name_en:t.data.data[a].name,e.countryOptions.push(s)}})).catch((function(t){e.$refs.msg.makeToast("warning",e.$t(Object(i["b"])(t)))}))},loadItems:function(){this.adminToken=localStorage.getItem("userToken");var t="";for(var e in this.searchParam){var a="&"+e+"="+this.searchParam[e];t+=a}var s=Object(r["Bb"])(this.pageNumber,t),n=this;this.isLoading=!0,s.then((function(t){var e=t.data.data.record.data;if(n.rows=e,n.totalRecords=t.data.data.record.total,n.isLoading=!1,n.selectOptions=[],t.data.data.found_type){n.foundList=t.data.data.found_type;for(var a=[],s=0;s<t.data.data.found_type.length;s++){var o={};o["item"]=t.data.data.found_type[s].found_type,o["name"]="en"==n.$i18n.locale?t.data.data.found_type[s].comments_en:t.data.data.found_type[s].comments_cn,a.push(o)}n.selectOptions=a}})).catch((function(t){n.$refs.msg.makeToast("warning",n.$t(Object(i["b"])(t)))}))}},watch:{lang:function(t){var e=this;e.selectOptions=[];for(var a=0;a<e.foundList.length;a++){var s={};s["item"]=e.foundList[a].found_type,s["name"]="en"==e.$i18n.locale?e.foundList[a].comments_en:e.foundList[a].comments_cn,e.selectOptions.push(s)}e.countryOptions=[];for(var n=0;n<e.countryList.length;n++){var o={};o["value"]=e.countryList[n].id,o["text"]="en"==t?e.countryList[n].name_en:e.countryList[n].name,e.countryOptions.push(o)}}},created:function(){this.searchSetup(),this.loadItems()}},d=u,p=(a("906b"),a("f113"),a("2877")),h=Object(p["a"])(d,s,n,!1,null,null,null);e["default"]=h.exports},f113:function(t,e,a){"use strict";var s=a("179e"),n=a.n(s);n.a}}]);
//# sourceMappingURL=chunk-49e0969c.6f0700c8.js.map